(this["webpackJsonpname-app"]=this["webpackJsonpname-app"]||[]).push([[0],{189:function(e,t){},246:function(e,t,n){e.exports=n(406)},247:function(e,t,n){},256:function(e,t){},267:function(e,t){},269:function(e,t){},316:function(e,t){},406:function(e,t,n){"use strict";n.r(t);n(247);var r,a=n(0),c=n.n(a),i=n(12),o=n.n(i),l=n(23),s=function(e){r=e.error};function u(e){var t="string"===typeof e?e:e.toString();s({error:t})}function d(){s({})}var m=a.createContext({setError:u,clearError:d}),p=function(){return a.useContext(m)};function f(e){var t=a.useState({}),n=Object(l.a)(t,2),c=n[0],i=n[1];s=i,r&&(i({error:r}),r=void 0);var o={error:c.error,setError:u,clearError:d};return a.createElement(m.Provider,{value:o},e.children)}var b=n(6),x=n.n(b),h=n(21),g=n(234),v=n(104),E=n(55);function w(){var e="burner-wallet",t=localStorage.getItem(e);if(t)return t;var n=E.Bip39.encode(E.Random.getBytes(16)).toString();return localStorage.setItem(e,n),n}function y(){return S.apply(this,arguments)}function S(){return(S=Object(h.a)(x.a.mark((function e(){var t,n,r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),e.next=3,v.Secp256k1Pen.fromMnemonic(t);case 3:return n=e.sent,r=Object(v.encodeSecp256k1Pubkey)(n.pubkey),a=Object(v.pubkeyToAddress)(r,"cosmos"),c=function(e){return n.sign(e)},e.abrupt("return",{address:a,signer:c});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(h.a)(x.a.mark((function e(t,n){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,a=n.signer,c=new v.SigningCosmWasmClient(t,r,a),e.abrupt("return",{address:r,client:c});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={loading:!0,address:"",getClient:function(){throw new Error("not yet initialized")}},k=a.createContext(O),C=function(){return a.useContext(k)};function N(e){return a.createElement(T,{config:e.config,loadWallet:y},e.children)}function T(e){var t=Object(a.useState)(O),n=Object(l.a)(t,2),r=n[0],c=n[1],i=p().setError,o=e.config,s=e.loadWallet;return Object(a.useEffect)((function(){s().then((function(e){return function(e,t){return j.apply(this,arguments)}(o.httpUrl,e)})).then(function(){var e=Object(h.a)(x.a.mark((function e(t){var n,r,a,i;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,r=t.client,!o.faucetUrl){e.next=8;break}return e.next=4,r.getAccount();case 4:if(null===(i=e.sent)||void 0===i?void 0:null===(a=i.balance)||void 0===a?void 0:a.length){e.next=8;break}return e.next=8,g.a.post(o.faucetUrl,{json:{ticker:"COSM",address:n}});case 8:c({loading:!1,address:n,getClient:function(){return r}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(i)}),[o.httpUrl,o.faucetUrl,s,i]),a.createElement(k.Provider,{value:r},e.children)}var B=n(444),A=n(441),I=Object(A.a)({root:{height:"40px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"20px",fontWeight:500,color:"#3d5af1",boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"},"&:active":{boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"}}});function F(e){var t=I();return a.createElement(B.a,Object.assign({disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,className:t.root},e))}var W=n(457),z=n(447);function D(e){var t=e.error,n=e.clearError;return a.createElement(W.a,{severity:"error",onClose:n},a.createElement(z.a,null,"Error"),t)}var L=n(449),M=n(450),R=n(446),U=n(106),q=n(448),P=n(460),_=n(69);function J(e){var t=e.children,n=Object(q.a)({disableHysteresis:!0,threshold:0});return a.cloneElement(t,{elevation:n?4:0})}function V(e,t){var n=e.account,r=(e.children,n?n.balance.map((function(e){var t=e.amount,n=e.denom;return"".concat(t," ").concat(n)})).join(", ")||"(Empty Account)":"(Loading Balance)"),c=n?n.address:"(No Address)";return a.createElement(a.Fragment,null,a.createElement(J,t,a.createElement(L.a,null,a.createElement(M.a,null,a.createElement(_.b,{to:"/"},a.createElement(R.a,{edge:"start",color:"inherit"},a.createElement(P.a,null))),a.createElement(U.a,{variant:"h6"},c," - ",r)))),a.createElement(M.a,null))}function G(){return a.createElement(U.a,{variant:"h2"},"Loading Wallet...")}var H=n(14),Y=n(451),$=n(458),K=Object(A.a)((function(e){return Object($.a)({root:Object(H.a)({flexGrow:1,height:"100%",background:"#ebf5fc"},e.breakpoints.up("sm"),{height:"105vh"})})}));function Q(e){var t=e.children,n=K();return a.createElement(Y.a,{className:n.root,container:!0,spacing:3,justify:"center"},a.createElement(Y.a,{item:!0,xs:12,sm:10,md:8},t))}var X=Object(A.a)((function(e){var t,n,r;return Object($.a)({contractLogicContainer:{display:"flex",flexDirection:"column",alignItems:"center"},card:(n={width:"80vw",margin:"10px",padding:"20px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)",borderRadius:"25px",maxWidth:"600px","& ul":Object(H.a)({listStyleType:"none",padding:"0",margin:"0"},e.breakpoints.up("sm"),{marginBlockStart:"1em",marginBlockEnd:"1em"}),"& li":(t={display:"grid",gridTemplateColumns:"1fr",fontSize:".75em","& p:first-child":{marginBottom:".2em"},"& p:last-child":{marginTop:".2em"}},Object(H.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"25% 75%",fontSize:".9em","& p:first-child":{margin:".5em 0.05em"},"& p:last-child":{margin:".5em 0.05em"}}),Object(H.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"20% 80%",fontSize:"1em","& p:first-child":{margin:".5em 0.1"},"& p:last-child":{margin:".5em .1em"}}),t),"& li p:first-child":{color:"#3d5af1"}},Object(H.a)(n,e.breakpoints.up("sm"),{width:"75vw",margin:"20px",padding:"30px 20px"}),Object(H.a)(n,e.breakpoints.up("md"),{width:"60vw",padding:"30px 40px"}),n),listCardContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},listCard:(r={flexDirection:"column-reverse",textAlign:"center",width:"95vw",margin:"5px",padding:"10px 5px",borderRadius:"116px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"inset -5px -5px 10px rgba(255,255,255,0.5), inset 5px 5px 10px rgba(0,0,0,0.05)"},"& .MuiListItemText-secondary":{fontSize:"13px"}},Object(H.a)(r,e.breakpoints.up("sm"),{width:"70vw",margin:"20px",padding:"30px 40px","& .MuiListItemText-secondary":{fontSize:"14px"}}),Object(H.a)(r,e.breakpoints.up("md"),{flexDirection:"row",textAlign:"left",width:"60vw","& .MuiListItemText-secondary":{fontSize:"15px"}}),r),link:{textDecoration:"none",color:"#3d5af1"},form:{height:"115px",display:"flex",flexDirection:"column",justifyContent:"space-between",maxWidth:"600px"},input:{display:"flex","& input":{height:"30px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"18px",color:"#3d5af1",boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1);"}},isFree:{color:"#00BB6D",marginBottom:"20px",paddingLeft:"8px"},isOwned:{color:"#ff304f",marginBottom:"20px",paddingLeft:"8px"},bottomSpacer:{marginBottom:"8px"}})}));var Z=function(){var e=p(),t=e.error,n=e.clearError;return t?a.createElement(D,{error:t,clearError:n}):a.createElement("div",null)};var ee=function(e){return C().loading?a.createElement(a.Fragment,null,a.createElement(G,null),a.createElement(Z,null)):a.createElement(Q,null,e.children)},te={httpUrl:"https://lcd.demo-07.cosmwasm.com",faucetUrl:"https://faucet.demo-07.cosmwasm.com/credit",codeId:2},ne=n(26),re=n(455),ae=n(459),ce=n(452),ie=n(453),oe=n(454),le=n(237),se=n.n(le);function ue(e){var t=e.address,n=e.label,r=X();return a.createElement("div",{className:r.listCardContainer},a.createElement(_.b,{className:r.link,to:"/contract/".concat(t)},a.createElement(ce.a,{className:r.listCard},a.createElement(ie.a,null,a.createElement(ae.a,null,a.createElement(se.a,null))),a.createElement(oe.a,{primary:n,secondary:t}))))}var de=te.codeId;var me=function(){var e=C().getClient,t=p().setError,n=a.useState([]),r=Object(l.a)(n,2),c=r[0],i=r[1];return a.useEffect((function(){e().getContracts(de).then((function(e){return i(e)})).catch(t)}),[e,t]),a.createElement(re.a,null,c.map((function(e){return a.createElement(ue,Object.assign({},e,{key:e.address}))})))};var pe=function(){var e=C().getClient,t=p().setError,n=a.useState({}),r=Object(l.a)(n,2),c=r[0],i=r[1];return a.useEffect((function(){e().getAccount().then((function(e){return i({account:e})})).catch(t)}),[e,t]),a.createElement(V,c)},fe=n(73);function be(e){return e?"".concat(e.amount," ").concat(e.denom):"0"}function xe(e){var t=X();return a.createElement("div",{className:t.card},a.createElement(U.a,{variant:"h5"},'Details of name service "',e.label,'":'),a.createElement("ul",null,a.createElement("li",null,a.createElement("p",null,"Code ID:")," ",a.createElement("p",null,e.codeId)),a.createElement("li",null,a.createElement("p",null,"Address:")," ",a.createElement("p",null,e.address)),a.createElement("li",null,a.createElement("p",null,"Purchase price:")," ",a.createElement("p",null,be(e.initMsg.purchase_price))),a.createElement("li",null,a.createElement("p",null,"Transfer price:")," ",a.createElement("p",null,be(e.initMsg.transfer_price)))))}var he=n(28),ge=n(64),ve=n(2),Ee=n(456),we=function(e){var t=e.type,n=e.placeholder,r=Object(ve.a)(e,["type","placeholder"]),c=Object(ge.c)(r),i=Object(l.a)(c,2),o=i[0],s=i[1],u=s.error&&s.touched?s.error:"";return"number"===t?a.createElement(Ee.a,Object.assign({id:"outlined-number",variant:"outlined",type:t,label:n},o,{helperText:u,error:!!u})):a.createElement(Ee.a,Object.assign({type:t,placeholder:n,fullWidth:!0},o,{helperText:u,error:!!u}))},ye=n(105),Se=ye.a().shape({name:ye.b().min(4,"Name can not be less than 4 characters").required("A Name is required")}),je=ye.a().shape({addressField:ye.b().min(45,"Address invalid").required("An address is required")}),Oe=function(e){var t=e.handleTransfer,n=X();return a.createElement(ge.b,{initialValues:{addressField:""},validationSchema:je,onSubmit:function(){var e=Object(h.a)(x.a.mark((function e(n,r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.addressField,(0,r.setSubmitting)(!0),t({addressField:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,r=e.isSubmitting;return a.createElement(ge.a,{onSubmit:t,className:n.form},a.createElement("div",{className:n.input},a.createElement(we,{placeholder:"cosmos1234567...",name:"addressField",type:"text"})),a.createElement("div",null,a.createElement(F,{type:"submit",disabled:r},"Transfer")))}))};function ke(e){var t=X(),n=e.name,r=e.contractAddress,c=C(),i=c.address,o=c.getClient,s=p().setError,u=a.useState({loading:!1}),d=Object(l.a)(u,2),m=d[0],f=d[1];a.useEffect((function(){f({loading:!0}),o().queryContractSmart(r,{resolverecord:{name:n}}).then((function(e){var t,n=(t=e,JSON.parse(he.Encoding.fromUtf8(t)));f({owner:n.address,loading:!1})})).catch((function(e){f({loading:!1}),e.toString().includes("NameRecord not found")||s(e)}))}),[o,s,r,n]);var b=function(){var t=Object(h.a)(x.a.mark((function t(){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contract.purchase_price,a=n?[n]:void 0,t.prev=2,t.next=5,o().execute(r,{register:{name:e.name}},"Buying my name",a);case 5:f({owner:i,loading:!1}),t.next=11;break;case 8:t.prev=8,t.t0=t.catch(2),s(t.t0);case 11:return t.abrupt("return",!0);case 12:case"end":return t.stop()}}),t,null,[[2,8]])})));return function(){return t.apply(this,arguments)}}(),g=function(){var t=Object(h.a)(x.a.mark((function t(n){var r,a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contract.transfer_price,a=r?[r]:void 0,c=n.addressField,f({loading:!0}),t.prev=4,t.next=7,o().execute(e.contractAddress,{transfer:{name:e.name,to:c}},"Transferring my name",a);case 7:f({owner:c,loading:!1}),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(4),f({loading:!1}),s(t.t0);case 14:case"end":return t.stop()}}),t,null,[[4,10]])})));return function(e){return t.apply(this,arguments)}}();return m.owner?m.owner===i?a.createElement("div",{className:t.card},a.createElement(U.a,{color:"secondary",variant:"h6"},"You own ",e.name),a.createElement(U.a,{className:t.bottomSpacer,variant:"body2"},"Do you want to transfer it?"),a.createElement(Oe,{handleTransfer:g})):a.createElement("div",{className:t.card},a.createElement(U.a,{color:"secondary",variant:"h6"},e.name," is owned"),a.createElement("span",null,"Owned by: ",m.owner)):a.createElement("div",{className:t.card},a.createElement(U.a,{className:t.isFree,variant:"h6"},e.name," is free"),a.createElement(F,{color:"primary",type:"submit",onClick:b},"Buy"))}var Ce=function(e){var t=e.handleSearch,n=X();return a.createElement(ge.b,{initialValues:{name:""},validationSchema:Se,onSubmit:function(){var e=Object(h.a)(x.a.mark((function e(n,r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.name,(0,r.setSubmitting)(!0),t({name:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit,r=e.isSubmitting;return a.createElement(ge.a,{onSubmit:t,className:"".concat(n.card," ").concat(n.form)},a.createElement("div",{className:n.input},a.createElement(we,{placeholder:"Name",name:"name",type:"text"})),a.createElement("div",null,a.createElement(F,{type:"submit",disabled:r},"Search")))}))},Ne={address:"",codeId:0,creator:"",label:"",initMsg:{}};var Te=function(e){var t=e.address,n=e.name,r=X(),c=C().getClient,i=p().setError,o=Object(ne.f)(),s=a.useState(Ne),u=Object(l.a)(s,2),d=u[0],m=u[1];return a.useEffect((function(){c().getContract(t).then((function(e){return m(Object(fe.a)({},e,{address:t}))})).catch(i)}),[i,t,c]),a.createElement("div",{className:r.contractLogicContainer},a.createElement(xe,d),a.createElement(Ce,{handleSearch:function(e){var n=e.name;o.push("/contract/".concat(t,"/details/").concat(n))}}),n?a.createElement(ke,{contractAddress:t,name:n,contract:d.initMsg}):"")};var Be=function(){var e=Object(ne.g)().address;return c.a.createElement(Te,{address:e||""})};var Ae=function(){var e=Object(ne.g)(),t=e.address,n=e.name;return c.a.createElement(Te,{address:t||"",name:n})},Ie=function(){return c.a.createElement(_.a,{basename:"/"},c.a.createElement(pe,null),c.a.createElement(Z,null),c.a.createElement(ne.c,null,c.a.createElement(ne.a,{exact:!0,path:"/",component:me}),c.a.createElement(ne.a,{exact:!0,path:"/contract/:address",component:Be}),c.a.createElement(ne.a,{path:"/contract/:address/details/:name",component:Ae})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Fe(){return(Fe=Object(h.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=3;break}return e.next=3,navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var We,ze=document.getElementById("root");We=Ie,o.a.render(c.a.createElement(f,null,c.a.createElement(N,{config:te},c.a.createElement(ee,null,c.a.createElement(We,null)))),ze),function(){Fe.apply(this,arguments)}()}},[[246,1,2]]]);
//# sourceMappingURL=main.2232e498.chunk.js.map