(this["webpackJsonpname-app"]=this["webpackJsonpname-app"]||[]).push([[0],{221:function(e,t){},295:function(e,t,n){e.exports=n(494)},296:function(e,t,n){},319:function(e,t){},321:function(e,t){},331:function(e,t){},333:function(e,t){},375:function(e,t){},376:function(e,t){},381:function(e,t){},383:function(e,t){},407:function(e,t){},494:function(e,t,n){"use strict";n.r(t);n(296);var r,a=n(0),c=n.n(a),o=n(12),i=n.n(o),l=n(28),s=function(e){r=e.error};function u(e){var t="string"===typeof e?e:e.toString();s({error:t})}function d(){s({})}var m=a.createContext({setError:u,clearError:d}),p=function(){return a.useContext(m)};function f(e){var t=a.useState({}),n=Object(l.a)(t,2),c=n[0],o=n[1];s=o,r&&(o({error:r}),r=void 0);var i={error:c.error,setError:u,clearError:d};return a.createElement(m.Provider,{value:i},e.children)}var x=n(5),b=n.n(x),h=n(23),g=n(278),v=n(277),E=n(46),w=n(82);function y(){var e="burner-wallet",t=localStorage.getItem(e);if(t)return t;var n=E.Bip39.encode(E.Random.getBytes(16)).toString();return localStorage.setItem(e,n),n}function S(e){return j.apply(this,arguments)}function j(){return(j=Object(h.a)(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return n=y(),r=Object(w.makeCosmoshubPath)(0),e.next=4,w.Secp256k1Wallet.fromMnemonic(n,r,t);case 4:return a=e.sent,e.abrupt("return",a);case 6:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(h.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,n.getAccounts();case 2:return r=e.sent[0].address,e.abrupt("return",new v.SigningCosmWasmClient(t,r,n));case 4:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k={loading:!0,address:"",getClient:function(){throw new Error("not yet initialized")}},C=a.createContext(k),N=function(){return a.useContext(C)};function A(e){return a.createElement(T,{config:e.config,loadWallet:S},e.children)}function T(e){var t=Object(a.useState)(k),n=Object(l.a)(t,2),r=n[0],c=n[1],o=p().setError,i=e.config,s=e.loadWallet;return Object(a.useEffect)((function(){s(i.addressPrefix).then((function(e){return function(e,t){return O.apply(this,arguments)}(i.httpUrl,e)})).then(function(){var e=Object(h.a)(b.a.mark((function e(t){var n,r,a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.senderAddress,!i.faucetUrl){e.next=8;break}return e.next=4,t.getAccount();case 4:if(null===(a=e.sent)||void 0===a||null===(r=a.balance)||void 0===r?void 0:r.length){e.next=8;break}return e.next=8,g.a.post(i.faucetUrl,{json:{ticker:"COSM",address:n}});case 8:c({loading:!1,address:n,getClient:function(){return t}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(o)}),[i.httpUrl,i.faucetUrl,i.addressPrefix,s,o]),a.createElement(C.Provider,{value:r},e.children)}function I(){}var B=a.createContext({refreshAccount:I}),P=function(){return a.useContext(B)};function F(e){var t=a.useState({}),n=Object(l.a)(t,2),r=n[0],c=n[1],o=N(),i=o.loading,s=o.getClient,u=p().setError,d=function(){i||s().getAccount().then((function(e){return c({account:e})})).catch(u)};a.useEffect(d,[i,s,u]);var m={refreshAccount:d,account:r.account};return a.createElement(B.Provider,{value:m},e.children)}var W=n(535),z=n(532),D=Object(z.a)({root:{height:"40px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"20px",fontWeight:500,color:"#3d5af1",boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"},"&:active":{boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"}}});function L(e){var t=D();return a.createElement(W.a,Object.assign({disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,className:t.root},e))}var M=n(550),R=n(538);function U(e){var t=e.error,n=e.clearError;return a.createElement(M.a,{severity:"error",onClose:n},a.createElement(R.a,null,"Error"),t)}var q=n(540),H=n(541),_=n(537),J=n(102),V=n(539),G=n(551),Y=n(72),$=n(57);function K(e){if(!e)return"0";if(e.denom.startsWith("u")){var t=e.denom.slice(1).toUpperCase();return $.Decimal.fromAtomics(e.amount,6).toString()+"\u202f"+t}return e.amount+"\u202f"+e.denom}function Q(e){var t=e.children,n=Object(V.a)({disableHysteresis:!0,threshold:0});return a.cloneElement(t,{elevation:n?4:0})}function X(e,t){var n=e.account,r=(e.children,n?function(e){return e&&0!==e.length?e.map(K).join(", "):"\u2013"}(n.balance):"(Loading Balance)"),c=n?n.address:"(No Address)";return a.createElement(a.Fragment,null,a.createElement(Q,t,a.createElement(q.a,null,a.createElement(H.a,null,a.createElement(Y.b,{to:"/"},a.createElement(_.a,{edge:"start",color:"inherit"},a.createElement(G.a,null))),a.createElement(J.a,{variant:"h6"},c," (",r,")")))),a.createElement(H.a,null))}function Z(){return a.createElement(J.a,{variant:"h2"},"Loading Wallet...")}var ee=n(542),te=n(552),ne=Object(z.a)((function(e){return Object(te.a)({root:{flexGrow:1,height:"102vh",background:"#ebf5fc"}})}));function re(e){var t=e.children,n=ne();return a.createElement(ee.a,{className:n.root,container:!0,spacing:3,justify:"center"},a.createElement(ee.a,{item:!0,xs:12,sm:10,md:8},t))}var ae=n(35),ce=Object(z.a)((function(e){var t,n,r;return Object(te.a)({contractLogicContainer:{display:"flex",flexDirection:"column",alignItems:"center"},card:(n={width:"80vw",margin:"10px",padding:"20px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)",borderRadius:"25px",maxWidth:"600px","& ul":Object(ae.a)({listStyleType:"none",padding:"0",margin:"0"},e.breakpoints.up("sm"),{marginBlockStart:"1em",marginBlockEnd:"1em"}),"& li":(t={display:"grid",gridTemplateColumns:"1fr",fontSize:".75em","& p:first-child":{marginBottom:".2em"},"& p:last-child":{marginTop:".2em"}},Object(ae.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"25% 75%",fontSize:".9em","& p:first-child":{margin:".5em 0.05em"},"& p:last-child":{margin:".5em 0.05em"}}),Object(ae.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"20% 80%",fontSize:"1em","& p:first-child":{margin:".5em 0.1"},"& p:last-child":{margin:".5em .1em"}}),t),"& li p:first-child":{color:"#3d5af1"}},Object(ae.a)(n,e.breakpoints.up("sm"),{width:"75vw",margin:"20px",padding:"30px 20px"}),Object(ae.a)(n,e.breakpoints.up("md"),{width:"60vw",padding:"30px 40px"}),n),listCardContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},listCard:(r={flexDirection:"column-reverse",textAlign:"center",width:"95vw",margin:"5px",padding:"10px 5px",borderRadius:"116px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"inset -5px -5px 10px rgba(255,255,255,0.5), inset 5px 5px 10px rgba(0,0,0,0.05)"},"& .MuiListItemText-secondary":{fontSize:"13px"}},Object(ae.a)(r,e.breakpoints.up("sm"),{width:"70vw",margin:"20px",padding:"30px 40px","& .MuiListItemText-secondary":{fontSize:"14px"}}),Object(ae.a)(r,e.breakpoints.up("md"),{flexDirection:"row",textAlign:"left",width:"60vw","& .MuiListItemText-secondary":{fontSize:"15px"}}),r),link:{textDecoration:"none",color:"#3d5af1"},form:Object(ae.a)({height:"150px",display:"flex",flexDirection:"column",justifyContent:"space-around",maxWidth:"600px",padding:"10px","& p":{fontSize:"0.75rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"0"}},e.breakpoints.up("sm"),{height:"150px",justifyContent:"space-around",margin:"20px",padding:"20px","& p":{fontSize:"1rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"3px"}}),input:{display:"flex","& input":{height:"30px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"18px",color:"#3d5af1",boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1);"}},isFree:{color:"#00BB6D",marginBottom:"20px",paddingLeft:"8px"},isOwned:{color:"#ff304f",marginBottom:"20px",paddingLeft:"8px"},bottomSpacer:{marginBottom:"8px"}})}));var oe=function(){var e=p(),t=e.error,n=e.clearError;return t?a.createElement(U,{error:t,clearError:n}):a.createElement("div",null)};var ie=function(e){return N().loading?a.createElement(a.Fragment,null,a.createElement(Z,null),a.createElement(oe,null)):a.createElement(re,null,e.children)},le={httpUrl:"https://lcd.demo-10.cosmwasm.com",faucetUrl:"https://faucet.demo-10.cosmwasm.com/credit",addressPrefix:"cosmos",codeId:2},se=n(10),ue=n(546),de=n(553),me=n(543),pe=n(544),fe=n(545),xe=n(283),be=n.n(xe);function he(e){var t=e.address,n=e.label,r=ce();return a.createElement("div",{className:r.listCardContainer},a.createElement(Y.b,{className:r.link,to:"/contract/".concat(t)},a.createElement(me.a,{className:r.listCard},a.createElement(pe.a,null,a.createElement(de.a,null,a.createElement(be.a,null))),a.createElement(fe.a,{primary:n,secondary:t}))))}var ge=le.codeId;var ve=function(){var e=N().getClient,t=p().setError,n=a.useState([]),r=Object(l.a)(n,2),c=r[0],o=r[1];return a.useEffect((function(){e().getContracts(ge).then((function(e){return o(e)})).catch(t)}),[e,t]),a.createElement(ue.a,null,c.map((function(e){return a.createElement(he,Object.assign({},e,{key:e.address}))})))};var Ee=function(){var e=P().account;return a.createElement(X,{account:e})},we=n(65),ye=n(288),Se=n(549),je=function(e){var t=e.type,n=e.placeholder,r=e.InputProps,c=Object(ye.a)(e,["type","placeholder","InputProps"]),o=Object(we.c)(c),i=Object(l.a)(o,2),s=i[0],u=i[1],d=u.error&&u.touched?u.error:"";return"number"===t?a.createElement(Se.a,Object.assign({id:"outlined-number",variant:"outlined",type:t,label:n,InputProps:r},s,{helperText:d,error:!!d})):a.createElement(Se.a,Object.assign({type:t,placeholder:n,InputProps:r,fullWidth:!0},s,{helperText:d,error:!!d}))},Oe=n(122),ke=Oe.a().shape({name:Oe.b().min(4,"Name can not be less than 4 characters").required("A Name is required")}),Ce=Oe.a().shape({addressField:Oe.b().min(45,"Address invalid").required("An address is required")}),Ne=function(e){var t=e.handleTransfer,n=e.loading,r=ce();return a.createElement(we.b,{initialValues:{addressField:""},validationSchema:Ce,onSubmit:function(){var e=Object(h.a)(b.a.mark((function e(n,r){var a;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.addressField,(0,r.setSubmitting)(!0),t({addressField:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit;return a.createElement(we.a,{onSubmit:t,className:r.form},a.createElement("div",{className:r.input},a.createElement(je,{placeholder:"cosmos1234567...",name:"addressField",type:"text"})),a.createElement("div",null,a.createElement(L,{type:"submit",disabled:n},"Transfer")))}))};function Ae(e){var t=ce(),n=e.name,r=e.contractAddress,c=N(),o=c.address,i=c.getClient,s=p().setError,u=P().refreshAccount,d=a.useState({loading:!1}),m=Object(l.a)(d,2),f=m[0],x=m[1];a.useEffect((function(){x({loading:!0}),i().queryContractSmart(r,{resolve_record:{name:n}}).then((function(e){x({owner:e.address,loading:!1})})).catch((function(e){x({loading:!1}),e.toString().includes("NameRecord not found")||s(e)}))}),[i,s,r,n]);var g=function(){var t=Object(h.a)(b.a.mark((function t(){var n,a;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.prices.purchase,a=n?[n]:void 0,x({loading:!0}),t.prev=3,t.next=6,i().execute(r,{register:{name:e.name}},"Buying my name",a);case 6:x({owner:o,loading:!1}),u(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),x({loading:!1}),s(t.t0);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(h.a)(b.a.mark((function t(n){var r,a,c;return b.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.prices.transfer,a=r?[r]:void 0,c=n.addressField,x({owner:o,loading:!0}),t.prev=4,t.next=7,i().execute(e.contractAddress,{transfer:{name:e.name,to:c}},"Transferring my name",a);case 7:x({owner:c,loading:!1}),u(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),x({owner:o,loading:!1}),s(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return f.owner?f.owner===o?a.createElement("div",{className:t.card},a.createElement(J.a,{color:"secondary",variant:"h6"},"You own ",e.name),a.createElement(J.a,{variant:"body2"},"Do you want to transfer it?"),a.createElement(J.a,{className:t.bottomSpacer,variant:"body2"},"Price: ",K(e.prices.transfer)),a.createElement(Ne,{handleTransfer:v,loading:f.loading})):a.createElement("div",{className:t.card},a.createElement(J.a,{color:"secondary",variant:"h6"},e.name," is owned"),a.createElement("span",null,"Owned by: ",f.owner)):a.createElement("div",{className:t.card},a.createElement(J.a,{className:t.isFree,variant:"h6"},e.name," is available.",a.createElement("br",null),"Price: ",K(e.prices.purchase)),a.createElement(L,{color:"primary",type:"submit",onClick:g,disabled:f.loading},"Register"))}var Te=n(548),Ie=n(547),Be=n(287),Pe=n.n(Be),Fe=function(e){var t=e.address,n=e.label,r=ce(),c=Object(se.f)(),o=function(e){var n=e.name;c.push("/contract/".concat(t,"/details/").concat(n))};return a.createElement(we.b,{initialValues:{name:""},validationSchema:ke,onSubmit:function(){var e=Object(h.a)(b.a.mark((function e(t,n){var r;return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.name,(0,n.setSubmitting)(!0),o({name:r});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var c=e.handleSubmit;e.isSubmitting;return a.createElement(we.a,{onSubmit:c,className:"".concat(r.card," ").concat(r.form)},a.createElement(J.a,{variant:"h5"},'Details of name service "',n,'":'),a.createElement(J.a,{color:"textSecondary"},"(",t,")"),a.createElement("div",{className:r.input},a.createElement(je,{placeholder:"Name",name:"name",type:"text",InputProps:{endAdornment:a.createElement(Ie.a,{position:"end"},a.createElement(Te.a,null,a.createElement(Pe.a,null)))}})))}))};var We=function(e){var t=e.address,n=e.name,r=ce(),c=N().getClient,o=p().setError,i=a.useState(""),s=Object(l.a)(i,2),u=s[0],d=s[1],m=a.useState({}),f=Object(l.a)(m,2),x=f[0],b=f[1];return a.useEffect((function(){c().getContract(t).then((function(e){return d(e.label)})).catch(o),c().queryContractSmart(t,{config:{}}).then((function(e){b({purchase:e.purchase_price,transfer:e.transfer_price})})).catch(o)}),[o,t,c]),a.createElement("div",{className:r.contractLogicContainer},a.createElement(Fe,{label:u,address:t}),n?a.createElement(Ae,{contractAddress:t,name:n,prices:x}):"")};var ze=function(){var e=Object(se.g)().address;return c.a.createElement(We,{address:e||""})};var De=function(){var e=Object(se.g)(),t=e.address,n=e.name;return c.a.createElement(We,{address:t||"",name:n})},Le=function(){return c.a.createElement(Y.a,{basename:"/"},c.a.createElement(Ee,null),c.a.createElement(oe,null),c.a.createElement(se.c,null,c.a.createElement(se.a,{exact:!0,path:"/",component:ve}),c.a.createElement(se.a,{exact:!0,path:"/contract/:address",component:ze}),c.a.createElement(se.a,{path:"/contract/:address/details/:name",component:De})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Me(){return(Me=Object(h.a)(b.a.mark((function e(){return b.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=3;break}return e.next=3,navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Re,Ue=document.getElementById("root");Re=Le,i.a.render(c.a.createElement(f,null,c.a.createElement(A,{config:le},c.a.createElement(F,null,c.a.createElement(ie,null,c.a.createElement(Re,null))))),Ue),function(){Me.apply(this,arguments)}()}},[[295,1,2]]]);
//# sourceMappingURL=main.6451a52b.chunk.js.map