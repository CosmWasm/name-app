(this["webpackJsonpname-app"]=this["webpackJsonpname-app"]||[]).push([[0],{207:function(e,t){},272:function(e,t,n){e.exports=n(445)},273:function(e,t,n){},300:function(e,t){},302:function(e,t){},350:function(e,t){},351:function(e,t){},445:function(e,t,n){"use strict";n.r(t);n(273);var r,a=n(0),c=n.n(a),o=n(13),i=n.n(o),l=n(24),s=function(e){r=e.error};function u(e){var t="string"===typeof e?e:e.toString();s({error:t})}function d(){s({})}var m=a.createContext({setError:u,clearError:d}),p=function(){return a.useContext(m)};function f(e){var t=a.useState({}),n=Object(l.a)(t,2),c=n[0],o=n[1];s=o,r&&(o({error:r}),r=void 0);var i={error:c.error,setError:u,clearError:d};return a.createElement(m.Provider,{value:i},e.children)}var b=n(6),x=n.n(b),g=n(20),h=n(255),v=n(254),E=n(51),w=n(69);function y(){var e="burner-wallet",t=localStorage.getItem(e);if(t)return t;var n=E.Bip39.encode(E.Random.getBytes(16)).toString();return localStorage.setItem(e,n),n}function S(){return j.apply(this,arguments)}function j(){return(j=Object(g.a)(x.a.mark((function e(){var t,n,r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=y(),e.next=3,w.Secp256k1Pen.fromMnemonic(t);case 3:return n=e.sent,r=Object(w.encodeSecp256k1Pubkey)(n.pubkey),a=Object(w.pubkeyToAddress)(r,"cosmos"),c=function(e){return n.sign(e)},e.abrupt("return",{address:a,signer:c});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function O(){return(O=Object(g.a)(x.a.mark((function e(t,n){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,a=n.signer,c=new v.SigningCosmWasmClient(t,r,a),e.abrupt("return",{address:r,client:c});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var k={loading:!0,address:"",getClient:function(){throw new Error("not yet initialized")}},C=a.createContext(k),N=function(){return a.useContext(C)};function T(e){return a.createElement(A,{config:e.config,loadWallet:S},e.children)}function A(e){var t=Object(a.useState)(k),n=Object(l.a)(t,2),r=n[0],c=n[1],o=p().setError,i=e.config,s=e.loadWallet;return Object(a.useEffect)((function(){s().then((function(e){return function(e,t){return O.apply(this,arguments)}(i.httpUrl,e)})).then(function(){var e=Object(g.a)(x.a.mark((function e(t){var n,r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,r=t.client,!i.faucetUrl){e.next=8;break}return e.next=4,r.getAccount();case 4:if(null===(o=e.sent)||void 0===o||null===(a=o.balance)||void 0===a?void 0:a.length){e.next=8;break}return e.next=8,h.a.post(i.faucetUrl,{json:{ticker:"COSM",address:n}});case 8:c({loading:!1,address:n,getClient:function(){return r}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(o)}),[i.httpUrl,i.faucetUrl,s,o]),a.createElement(C.Provider,{value:r},e.children)}function I(){}var B=a.createContext({refreshAccount:I}),F=function(){return a.useContext(B)};function P(e){var t=a.useState({}),n=Object(l.a)(t,2),r=n[0],c=n[1],o=N(),i=o.loading,s=o.getClient,u=p().setError,d=function(){i||s().getAccount().then((function(e){return c({account:e})})).catch(u)};a.useEffect(d,[i,s,u]);var m={refreshAccount:d,account:r.account};return a.createElement(B.Provider,{value:m},e.children)}var z=n(486),M=n(483),W=Object(M.a)({root:{height:"40px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"20px",fontWeight:500,color:"#3d5af1",boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"},"&:active":{boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"}}});function D(e){var t=W();return a.createElement(z.a,Object.assign({disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,className:t.root},e))}var L=n(501),R=n(489);function U(e){var t=e.error,n=e.clearError;return a.createElement(L.a,{severity:"error",onClose:n},a.createElement(R.a,null,"Error"),t)}var q=n(491),_=n(492),H=n(488),J=n(97),V=n(490),G=n(502),Y=n(71),$=n(68);function K(e){if(!e)return"0";if(e.denom.startsWith("u")){var t=e.denom.slice(1).toUpperCase();return $.Decimal.fromAtomics(e.amount,6).toString()+"\u202f"+t}return e.amount+"\u202f"+e.denom}function Q(e){var t=e.children,n=Object(V.a)({disableHysteresis:!0,threshold:0});return a.cloneElement(t,{elevation:n?4:0})}function X(e,t){var n=e.account,r=(e.children,n?function(e){return e&&0!==e.length?e.map(K).join(", "):"\u2013"}(n.balance):"(Loading Balance)"),c=n?n.address:"(No Address)";return a.createElement(a.Fragment,null,a.createElement(Q,t,a.createElement(q.a,null,a.createElement(_.a,null,a.createElement(Y.b,{to:"/"},a.createElement(H.a,{edge:"start",color:"inherit"},a.createElement(G.a,null))),a.createElement(J.a,{variant:"h6"},c," (",r,")")))),a.createElement(_.a,null))}function Z(){return a.createElement(J.a,{variant:"h2"},"Loading Wallet...")}var ee=n(493),te=n(503),ne=Object(M.a)((function(e){return Object(te.a)({root:{flexGrow:1,height:"102vh",background:"#ebf5fc"}})}));function re(e){var t=e.children,n=ne();return a.createElement(ee.a,{className:n.root,container:!0,spacing:3,justify:"center"},a.createElement(ee.a,{item:!0,xs:12,sm:10,md:8},t))}var ae=n(32),ce=Object(M.a)((function(e){var t,n,r;return Object(te.a)({contractLogicContainer:{display:"flex",flexDirection:"column",alignItems:"center"},card:(n={width:"80vw",margin:"10px",padding:"20px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)",borderRadius:"25px",maxWidth:"600px","& ul":Object(ae.a)({listStyleType:"none",padding:"0",margin:"0"},e.breakpoints.up("sm"),{marginBlockStart:"1em",marginBlockEnd:"1em"}),"& li":(t={display:"grid",gridTemplateColumns:"1fr",fontSize:".75em","& p:first-child":{marginBottom:".2em"},"& p:last-child":{marginTop:".2em"}},Object(ae.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"25% 75%",fontSize:".9em","& p:first-child":{margin:".5em 0.05em"},"& p:last-child":{margin:".5em 0.05em"}}),Object(ae.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"20% 80%",fontSize:"1em","& p:first-child":{margin:".5em 0.1"},"& p:last-child":{margin:".5em .1em"}}),t),"& li p:first-child":{color:"#3d5af1"}},Object(ae.a)(n,e.breakpoints.up("sm"),{width:"75vw",margin:"20px",padding:"30px 20px"}),Object(ae.a)(n,e.breakpoints.up("md"),{width:"60vw",padding:"30px 40px"}),n),listCardContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},listCard:(r={flexDirection:"column-reverse",textAlign:"center",width:"95vw",margin:"5px",padding:"10px 5px",borderRadius:"116px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"inset -5px -5px 10px rgba(255,255,255,0.5), inset 5px 5px 10px rgba(0,0,0,0.05)"},"& .MuiListItemText-secondary":{fontSize:"13px"}},Object(ae.a)(r,e.breakpoints.up("sm"),{width:"70vw",margin:"20px",padding:"30px 40px","& .MuiListItemText-secondary":{fontSize:"14px"}}),Object(ae.a)(r,e.breakpoints.up("md"),{flexDirection:"row",textAlign:"left",width:"60vw","& .MuiListItemText-secondary":{fontSize:"15px"}}),r),link:{textDecoration:"none",color:"#3d5af1"},form:Object(ae.a)({height:"150px",display:"flex",flexDirection:"column",justifyContent:"space-around",maxWidth:"600px",padding:"10px","& p":{fontSize:"0.75rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"0"}},e.breakpoints.up("sm"),{height:"150px",justifyContent:"space-around",margin:"20px",padding:"20px","& p":{fontSize:"1rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"3px"}}),input:{display:"flex","& input":{height:"30px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"18px",color:"#3d5af1",boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1);"}},isFree:{color:"#00BB6D",marginBottom:"20px",paddingLeft:"8px"},isOwned:{color:"#ff304f",marginBottom:"20px",paddingLeft:"8px"},bottomSpacer:{marginBottom:"8px"}})}));var oe=function(){var e=p(),t=e.error,n=e.clearError;return t?a.createElement(U,{error:t,clearError:n}):a.createElement("div",null)};var ie=function(e){return N().loading?a.createElement(a.Fragment,null,a.createElement(Z,null),a.createElement(oe,null)):a.createElement(re,null,e.children)},le={httpUrl:"https://lcd.demo-09.cosmwasm.com",faucetUrl:"https://faucet.demo-09.cosmwasm.com/credit",codeId:2},se=n(25),ue=n(497),de=n(504),me=n(494),pe=n(495),fe=n(496),be=n(261),xe=n.n(be);function ge(e){var t=e.address,n=e.label,r=ce();return a.createElement("div",{className:r.listCardContainer},a.createElement(Y.b,{className:r.link,to:"/contract/".concat(t)},a.createElement(me.a,{className:r.listCard},a.createElement(pe.a,null,a.createElement(de.a,null,a.createElement(xe.a,null))),a.createElement(fe.a,{primary:n,secondary:t}))))}var he=le.codeId;var ve=function(){var e=N().getClient,t=p().setError,n=a.useState([]),r=Object(l.a)(n,2),c=r[0],o=r[1];return a.useEffect((function(){e().getContracts(he).then((function(e){return o(e)})).catch(t)}),[e,t]),a.createElement(ue.a,null,c.map((function(e){return a.createElement(ge,Object.assign({},e,{key:e.address}))})))};var Ee=function(){var e=F().account;return a.createElement(X,{account:e})},we=n(75),ye=n(64),Se=n(266),je=n(500),Oe=function(e){var t=e.type,n=e.placeholder,r=e.InputProps,c=Object(Se.a)(e,["type","placeholder","InputProps"]),o=Object(ye.c)(c),i=Object(l.a)(o,2),s=i[0],u=i[1],d=u.error&&u.touched?u.error:"";return"number"===t?a.createElement(je.a,Object.assign({id:"outlined-number",variant:"outlined",type:t,label:n,InputProps:r},s,{helperText:d,error:!!d})):a.createElement(je.a,Object.assign({type:t,placeholder:n,InputProps:r,fullWidth:!0},s,{helperText:d,error:!!d}))},ke=n(115),Ce=ke.a().shape({name:ke.b().min(4,"Name can not be less than 4 characters").required("A Name is required")}),Ne=ke.a().shape({addressField:ke.b().min(45,"Address invalid").required("An address is required")}),Te=function(e){var t=e.handleTransfer,n=e.loading,r=ce();return a.createElement(ye.b,{initialValues:{addressField:""},validationSchema:Ne,onSubmit:function(){var e=Object(g.a)(x.a.mark((function e(n,r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.addressField,(0,r.setSubmitting)(!0),t({addressField:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit;return a.createElement(ye.a,{onSubmit:t,className:r.form},a.createElement("div",{className:r.input},a.createElement(Oe,{placeholder:"cosmos1234567...",name:"addressField",type:"text"})),a.createElement("div",null,a.createElement(D,{type:"submit",disabled:n},"Transfer")))}))};function Ae(e){var t=ce(),n=e.name,r=e.contractAddress,c=N(),o=c.address,i=c.getClient,s=p().setError,u=F().refreshAccount,d=a.useState({loading:!1}),m=Object(l.a)(d,2),f=m[0],b=m[1];a.useEffect((function(){b({loading:!0}),i().queryContractSmart(r,{resolve_record:{name:n}}).then((function(e){b({owner:e.address,loading:!1})})).catch((function(e){b({loading:!1}),e.toString().includes("NameRecord not found")||s(e)}))}),[i,s,r,n]);var h=function(){var t=Object(g.a)(x.a.mark((function t(){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contract.purchase_price,a=n?[n]:void 0,b({loading:!0}),t.prev=3,t.next=6,i().execute(r,{register:{name:e.name}},"Buying my name",a);case 6:b({owner:o,loading:!1}),u(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),b({loading:!1}),s(t.t0);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(g.a)(x.a.mark((function t(n){var r,a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contract.transfer_price,a=r?[r]:void 0,c=n.addressField,b({owner:o,loading:!0}),t.prev=4,t.next=7,i().execute(e.contractAddress,{transfer:{name:e.name,to:c}},"Transferring my name",a);case 7:b({owner:c,loading:!1}),u(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),b({owner:o,loading:!1}),s(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return f.owner?f.owner===o?a.createElement("div",{className:t.card},a.createElement(J.a,{color:"secondary",variant:"h6"},"You own ",e.name),a.createElement(J.a,{variant:"body2"},"Do you want to transfer it?"),a.createElement(J.a,{className:t.bottomSpacer,variant:"body2"},"Price: ",K(e.contract.transfer_price)),a.createElement(Te,{handleTransfer:v,loading:f.loading})):a.createElement("div",{className:t.card},a.createElement(J.a,{color:"secondary",variant:"h6"},e.name," is owned"),a.createElement("span",null,"Owned by: ",f.owner)):a.createElement("div",{className:t.card},a.createElement(J.a,{className:t.isFree,variant:"h6"},e.name," is available.",a.createElement("br",null),"Price: ",K(e.contract.purchase_price)),a.createElement(D,{color:"primary",type:"submit",onClick:h,disabled:f.loading},"Register"))}var Ie=n(499),Be=n(498),Fe=n(265),Pe=n.n(Fe),ze=function(e){var t=e.address,n=e.label,r=ce(),c=Object(se.f)(),o=function(e){var n=e.name;c.push("/contract/".concat(t,"/details/").concat(n))};return a.createElement(ye.b,{initialValues:{name:""},validationSchema:Ce,onSubmit:function(){var e=Object(g.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.name,(0,n.setSubmitting)(!0),o({name:r});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var c=e.handleSubmit;e.isSubmitting;return a.createElement(ye.a,{onSubmit:c,className:"".concat(r.card," ").concat(r.form)},a.createElement(J.a,{variant:"h5"},'Details of name service "',n,'":'),a.createElement(J.a,{color:"textSecondary"},"(",t,")"),a.createElement("div",{className:r.input},a.createElement(Oe,{placeholder:"Name",name:"name",type:"text",InputProps:{endAdornment:a.createElement(Be.a,{position:"end"},a.createElement(Ie.a,null,a.createElement(Pe.a,null)))}})))}))},Me={address:"",label:"",initMsg:{}};var We=function(e){var t=e.address,n=e.name,r=ce(),c=N().getClient,o=p().setError,i=a.useState(Me),s=Object(l.a)(i,2),u=s[0],d=s[1];return a.useEffect((function(){c().getContract(t).then((function(e){return d(Object(we.a)({},e,{address:t}))})).catch(o)}),[o,t,c]),a.createElement("div",{className:r.contractLogicContainer},a.createElement(ze,{label:u.label,address:t}),n?a.createElement(Ae,{contractAddress:t,name:n,contract:u.initMsg}):"")};var De=function(){var e=Object(se.g)().address;return c.a.createElement(We,{address:e||""})};var Le=function(){var e=Object(se.g)(),t=e.address,n=e.name;return c.a.createElement(We,{address:t||"",name:n})},Re=function(){return c.a.createElement(Y.a,{basename:"/"},c.a.createElement(Ee,null),c.a.createElement(oe,null),c.a.createElement(se.c,null,c.a.createElement(se.a,{exact:!0,path:"/",component:ve}),c.a.createElement(se.a,{exact:!0,path:"/contract/:address",component:De}),c.a.createElement(se.a,{path:"/contract/:address/details/:name",component:Le})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Ue(){return(Ue=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=3;break}return e.next=3,navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var qe,_e=document.getElementById("root");qe=Re,i.a.render(c.a.createElement(f,null,c.a.createElement(T,{config:le},c.a.createElement(P,null,c.a.createElement(ie,null,c.a.createElement(qe,null))))),_e),function(){Ue.apply(this,arguments)}()}},[[272,1,2]]]);
//# sourceMappingURL=main.a0773222.chunk.js.map