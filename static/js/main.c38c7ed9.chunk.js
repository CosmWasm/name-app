(this["webpackJsonpname-app"]=this["webpackJsonpname-app"]||[]).push([[0],{204:function(e,t){},264:function(e,t,n){e.exports=n(427)},265:function(e,t,n){},275:function(e,t){},286:function(e,t){},288:function(e,t){},335:function(e,t){},427:function(e,t,n){"use strict";n.r(t);n(265);var r,a=n(0),c=n.n(a),o=n(12),i=n.n(o),l=n(25),s=function(e){r=e.error};function u(e){var t="string"===typeof e?e:e.toString();s({error:t})}function d(){s({})}var m=a.createContext({setError:u,clearError:d}),p=function(){return a.useContext(m)};function f(e){var t=a.useState({}),n=Object(l.a)(t,2),c=n[0],o=n[1];s=o,r&&(o({error:r}),r=void 0);var i={error:c.error,setError:u,clearError:d};return a.createElement(m.Provider,{value:i},e.children)}var b=n(6),x=n.n(b),g=n(20),h=n(247),v=n(112),E=n(57);function w(){var e="burner-wallet",t=localStorage.getItem(e);if(t)return t;var n=E.Bip39.encode(E.Random.getBytes(16)).toString();return localStorage.setItem(e,n),n}function y(){return S.apply(this,arguments)}function S(){return(S=Object(g.a)(x.a.mark((function e(){var t,n,r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return t=w(),e.next=3,v.Secp256k1Pen.fromMnemonic(t);case 3:return n=e.sent,r=Object(v.encodeSecp256k1Pubkey)(n.pubkey),a=Object(v.pubkeyToAddress)(r,"cosmos"),c=function(e){return n.sign(e)},e.abrupt("return",{address:a,signer:c});case 8:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function j(){return(j=Object(g.a)(x.a.mark((function e(t,n){var r,a,c;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return r=n.address,a=n.signer,c=new v.SigningCosmWasmClient(t,r,a),e.abrupt("return",{address:r,client:c});case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var O={loading:!0,address:"",getClient:function(){throw new Error("not yet initialized")}},k=a.createContext(O),C=function(){return a.useContext(k)};function N(e){return a.createElement(T,{config:e.config,loadWallet:y},e.children)}function T(e){var t=Object(a.useState)(O),n=Object(l.a)(t,2),r=n[0],c=n[1],o=p().setError,i=e.config,s=e.loadWallet;return Object(a.useEffect)((function(){s().then((function(e){return function(e,t){return j.apply(this,arguments)}(i.httpUrl,e)})).then(function(){var e=Object(g.a)(x.a.mark((function e(t){var n,r,a,o;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n=t.address,r=t.client,!i.faucetUrl){e.next=8;break}return e.next=4,r.getAccount();case 4:if(null===(o=e.sent)||void 0===o||null===(a=o.balance)||void 0===a?void 0:a.length){e.next=8;break}return e.next=8,h.a.post(i.faucetUrl,{json:{ticker:"COSM",address:n}});case 8:c({loading:!1,address:n,getClient:function(){return r}});case 9:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}()).catch(o)}),[i.httpUrl,i.faucetUrl,s,o]),a.createElement(k.Provider,{value:r},e.children)}function A(){}var I=a.createContext({refreshAccount:A}),B=function(){return a.useContext(I)};function F(e){var t=a.useState({}),n=Object(l.a)(t,2),r=n[0],c=n[1],o=C(),i=o.loading,s=o.getClient,u=p().setError,d=function(){i||s().getAccount().then((function(e){return c({account:e})})).catch(u)};a.useEffect(d,[i,s,u]);var m={refreshAccount:d,account:r.account};return a.createElement(I.Provider,{value:m},e.children)}var P=n(468),z=n(465),M=Object(z.a)({root:{height:"40px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"20px",fontWeight:500,color:"#3d5af1",boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"-2px -2px 6px rgba(255, 255, 255, 1), 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"},"&:active":{boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1)",background:"#ebf5fc"}}});function W(e){var t=M();return a.createElement(P.a,Object.assign({disableElevation:!0,disableFocusRipple:!0,disableRipple:!0,className:t.root},e))}var D=n(483),L=n(471);function R(e){var t=e.error,n=e.clearError;return a.createElement(D.a,{severity:"error",onClose:n},a.createElement(L.a,null,"Error"),t)}var U=n(473),q=n(474),_=n(470),H=n(96),J=n(472),V=n(486),G=n(69),Y=n(22);function $(e){if(!e)return"0";if(e.denom.startsWith("u")){var t=e.denom.slice(1).toUpperCase();return Y.Decimal.fromAtomics(e.amount,6).toString()+"\u202f"+t}return e.amount+"\u202f"+e.denom}function K(e){var t=e.children,n=Object(J.a)({disableHysteresis:!0,threshold:0});return a.cloneElement(t,{elevation:n?4:0})}function Q(e,t){var n=e.account,r=(e.children,n?function(e){return e&&0!==e.length?e.map($).join(", "):"\u2013"}(n.balance):"(Loading Balance)"),c=n?n.address:"(No Address)";return a.createElement(a.Fragment,null,a.createElement(K,t,a.createElement(U.a,null,a.createElement(q.a,null,a.createElement(G.b,{to:"/"},a.createElement(_.a,{edge:"start",color:"inherit"},a.createElement(V.a,null))),a.createElement(H.a,{variant:"h6"},c," - ",r)))),a.createElement(q.a,null))}function X(){return a.createElement(H.a,{variant:"h2"},"Loading Wallet...")}var Z=n(475),ee=n(485),te=Object(z.a)((function(e){return Object(ee.a)({root:{flexGrow:1,height:"102vh",background:"#ebf5fc"}})}));function ne(e){var t=e.children,n=te();return a.createElement(Z.a,{className:n.root,container:!0,spacing:3,justify:"center"},a.createElement(Z.a,{item:!0,xs:12,sm:10,md:8},t))}var re=n(33),ae=Object(z.a)((function(e){var t,n,r;return Object(ee.a)({contractLogicContainer:{display:"flex",flexDirection:"column",alignItems:"center"},card:(n={width:"80vw",margin:"10px",padding:"20px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)",borderRadius:"25px",maxWidth:"600px","& ul":Object(re.a)({listStyleType:"none",padding:"0",margin:"0"},e.breakpoints.up("sm"),{marginBlockStart:"1em",marginBlockEnd:"1em"}),"& li":(t={display:"grid",gridTemplateColumns:"1fr",fontSize:".75em","& p:first-child":{marginBottom:".2em"},"& p:last-child":{marginTop:".2em"}},Object(re.a)(t,e.breakpoints.up("sm"),{gridTemplateColumns:"25% 75%",fontSize:".9em","& p:first-child":{margin:".5em 0.05em"},"& p:last-child":{margin:".5em 0.05em"}}),Object(re.a)(t,e.breakpoints.up("md"),{gridTemplateColumns:"20% 80%",fontSize:"1em","& p:first-child":{margin:".5em 0.1"},"& p:last-child":{margin:".5em .1em"}}),t),"& li p:first-child":{color:"#3d5af1"}},Object(re.a)(n,e.breakpoints.up("sm"),{width:"75vw",margin:"20px",padding:"30px 20px"}),Object(re.a)(n,e.breakpoints.up("md"),{width:"60vw",padding:"30px 40px"}),n),listCardContainer:{position:"relative",display:"flex",justifyContent:"center",alignItems:"center"},listCard:(r={flexDirection:"column-reverse",textAlign:"center",width:"95vw",margin:"5px",padding:"10px 5px",borderRadius:"116px",background:"#ebf5fc",boxShadow:"-5px -5px 15px rgba(255, 255, 255, 0.8), 5px 5px 10px rgba(0, 0, 0, 0.1)","&:hover":{boxShadow:"inset -5px -5px 10px rgba(255,255,255,0.5), inset 5px 5px 10px rgba(0,0,0,0.05)"},"& .MuiListItemText-secondary":{fontSize:"13px"}},Object(re.a)(r,e.breakpoints.up("sm"),{width:"70vw",margin:"20px",padding:"30px 40px","& .MuiListItemText-secondary":{fontSize:"14px"}}),Object(re.a)(r,e.breakpoints.up("md"),{flexDirection:"row",textAlign:"left",width:"60vw","& .MuiListItemText-secondary":{fontSize:"15px"}}),r),link:{textDecoration:"none",color:"#3d5af1"},form:Object(re.a)({height:"150px",display:"flex",flexDirection:"column",justifyContent:"space-around",maxWidth:"600px",padding:"10px","& p":{fontSize:"0.75rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"0"}},e.breakpoints.up("sm"),{height:"150px",justifyContent:"space-around",margin:"20px",padding:"20px","& p":{fontSize:"1rem"},"& .MuiFormHelperText-root.Mui-error":{marginTop:"3px"}}),input:{display:"flex","& input":{height:"30px",width:"100%",background:"#ebf5fc",border:"none",outline:"none",borderRadius:"20px",padding:"5px 15px",fontSize:"18px",color:"#3d5af1",boxShadow:"inset -2px -2px 6px rgba(255, 255, 255, 1), inset 2px 2px 6px rgba(0, 0, 0, 0.1);"}},isFree:{color:"#00BB6D",marginBottom:"20px",paddingLeft:"8px"},isOwned:{color:"#ff304f",marginBottom:"20px",paddingLeft:"8px"},bottomSpacer:{marginBottom:"8px"}})}));var ce=function(){var e=p(),t=e.error,n=e.clearError;return t?a.createElement(R,{error:t,clearError:n}):a.createElement("div",null)};var oe=function(e){return C().loading?a.createElement(a.Fragment,null,a.createElement(X,null),a.createElement(ce,null)):a.createElement(ne,null,e.children)},ie={httpUrl:"https://lcd.demo-071.cosmwasm.com",faucetUrl:"https://faucet.demo-071.cosmwasm.com/credit",codeId:2},le=n(26),se=n(479),ue=n(487),de=n(476),me=n(477),pe=n(478),fe=n(253),be=n.n(fe);function xe(e){var t=e.address,n=e.label,r=ae();return a.createElement("div",{className:r.listCardContainer},a.createElement(G.b,{className:r.link,to:"/contract/".concat(t)},a.createElement(de.a,{className:r.listCard},a.createElement(me.a,null,a.createElement(ue.a,null,a.createElement(be.a,null))),a.createElement(pe.a,{primary:n,secondary:t}))))}var ge=ie.codeId;var he=function(){var e=C().getClient,t=p().setError,n=a.useState([]),r=Object(l.a)(n,2),c=r[0],o=r[1];return a.useEffect((function(){e().getContracts(ge).then((function(e){return o(e)})).catch(t)}),[e,t]),a.createElement(se.a,null,c.map((function(e){return a.createElement(xe,Object.assign({},e,{key:e.address}))})))};var ve=function(){var e=B().account;return a.createElement(Q,{account:e})},Ee=n(73),we=n(64),ye=n(258),Se=n(482),je=function(e){var t=e.type,n=e.placeholder,r=e.InputProps,c=Object(ye.a)(e,["type","placeholder","InputProps"]),o=Object(we.c)(c),i=Object(l.a)(o,2),s=i[0],u=i[1],d=u.error&&u.touched?u.error:"";return"number"===t?a.createElement(Se.a,Object.assign({id:"outlined-number",variant:"outlined",type:t,label:n,InputProps:r},s,{helperText:d,error:!!d})):a.createElement(Se.a,Object.assign({type:t,placeholder:n,InputProps:r,fullWidth:!0},s,{helperText:d,error:!!d}))},Oe=n(114),ke=Oe.a().shape({name:Oe.b().min(4,"Name can not be less than 4 characters").required("A Name is required")}),Ce=Oe.a().shape({addressField:Oe.b().min(45,"Address invalid").required("An address is required")}),Ne=function(e){var t=e.handleTransfer,n=e.loading,r=ae();return a.createElement(we.b,{initialValues:{addressField:""},validationSchema:Ce,onSubmit:function(){var e=Object(g.a)(x.a.mark((function e(n,r){var a;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:a=n.addressField,(0,r.setSubmitting)(!0),t({addressField:a});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var t=e.handleSubmit;return a.createElement(we.a,{onSubmit:t,className:r.form},a.createElement("div",{className:r.input},a.createElement(je,{placeholder:"cosmos1234567...",name:"addressField",type:"text"})),a.createElement("div",null,a.createElement(W,{type:"submit",disabled:n},"Transfer")))}))};function Te(e){var t=ae(),n=e.name,r=e.contractAddress,c=C(),o=c.address,i=c.getClient,s=p().setError,u=B().refreshAccount,d=a.useState({loading:!1}),m=Object(l.a)(d,2),f=m[0],b=m[1];a.useEffect((function(){b({loading:!0}),i().queryContractSmart(r,{resolverecord:{name:n}}).then((function(e){var t,n=(t=e,JSON.parse(Y.Encoding.fromUtf8(t)));b({owner:n.address,loading:!1})})).catch((function(e){b({loading:!1}),e.toString().includes("NameRecord not found")||s(e)}))}),[i,s,r,n]);var h=function(){var t=Object(g.a)(x.a.mark((function t(){var n,a;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return n=e.contract.purchase_price,a=n?[n]:void 0,b({loading:!0}),t.prev=3,t.next=6,i().execute(r,{register:{name:e.name}},"Buying my name",a);case 6:b({owner:o,loading:!1}),u(),t.next=14;break;case 10:t.prev=10,t.t0=t.catch(3),b({loading:!1}),s(t.t0);case 14:return t.abrupt("return",!0);case 15:case"end":return t.stop()}}),t,null,[[3,10]])})));return function(){return t.apply(this,arguments)}}(),v=function(){var t=Object(g.a)(x.a.mark((function t(n){var r,a,c;return x.a.wrap((function(t){for(;;)switch(t.prev=t.next){case 0:return r=e.contract.transfer_price,a=r?[r]:void 0,c=n.addressField,b({owner:o,loading:!0}),t.prev=4,t.next=7,i().execute(e.contractAddress,{transfer:{name:e.name,to:c}},"Transferring my name",a);case 7:b({owner:c,loading:!1}),u(),t.next=15;break;case 11:t.prev=11,t.t0=t.catch(4),b({owner:o,loading:!1}),s(t.t0);case 15:case"end":return t.stop()}}),t,null,[[4,11]])})));return function(e){return t.apply(this,arguments)}}();return f.owner?f.owner===o?a.createElement("div",{className:t.card},a.createElement(H.a,{color:"secondary",variant:"h6"},"You own ",e.name),a.createElement(H.a,{variant:"body2"},"Do you want to transfer it?"),a.createElement(H.a,{className:t.bottomSpacer,variant:"body2"},"Price: ",$(e.contract.transfer_price)),a.createElement(Ne,{handleTransfer:v,loading:f.loading})):a.createElement("div",{className:t.card},a.createElement(H.a,{color:"secondary",variant:"h6"},e.name," is owned"),a.createElement("span",null,"Owned by: ",f.owner)):a.createElement("div",{className:t.card},a.createElement(H.a,{className:t.isFree,variant:"h6"},e.name," is available.",a.createElement("br",null),"Price: ",$(e.contract.purchase_price)),a.createElement(W,{color:"primary",type:"submit",onClick:h,disabled:f.loading},"Register"))}var Ae=n(481),Ie=n(480),Be=n(257),Fe=n.n(Be),Pe=function(e){var t=e.address,n=e.label,r=ae(),c=Object(le.f)(),o=function(e){var n=e.name;c.push("/contract/".concat(t,"/details/").concat(n))};return a.createElement(we.b,{initialValues:{name:""},validationSchema:ke,onSubmit:function(){var e=Object(g.a)(x.a.mark((function e(t,n){var r;return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:r=t.name,(0,n.setSubmitting)(!0),o({name:r});case 4:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}()},(function(e){var c=e.handleSubmit;e.isSubmitting;return a.createElement(we.a,{onSubmit:c,className:"".concat(r.card," ").concat(r.form)},a.createElement(H.a,{variant:"h5"},'Details of name service "',n,'":'),a.createElement(H.a,{color:"textSecondary"},"(",t,")"),a.createElement("div",{className:r.input},a.createElement(je,{placeholder:"Name",name:"name",type:"text",InputProps:{endAdornment:a.createElement(Ie.a,{position:"end"},a.createElement(Ae.a,null,a.createElement(Fe.a,null)))}})))}))},ze={address:"",label:"",initMsg:{}};var Me=function(e){var t=e.address,n=e.name,r=ae(),c=C().getClient,o=p().setError,i=a.useState(ze),s=Object(l.a)(i,2),u=s[0],d=s[1];return a.useEffect((function(){c().getContract(t).then((function(e){return d(Object(Ee.a)({},e,{address:t}))})).catch(o)}),[o,t,c]),a.createElement("div",{className:r.contractLogicContainer},a.createElement(Pe,{label:u.label,address:t}),n?a.createElement(Te,{contractAddress:t,name:n,contract:u.initMsg}):"")};var We=function(){var e=Object(le.g)().address;return c.a.createElement(Me,{address:e||""})};var De=function(){var e=Object(le.g)(),t=e.address,n=e.name;return c.a.createElement(Me,{address:t||"",name:n})},Le=function(){return c.a.createElement(G.a,{basename:"/"},c.a.createElement(ve,null),c.a.createElement(ce,null),c.a.createElement(le.c,null,c.a.createElement(le.a,{exact:!0,path:"/",component:he}),c.a.createElement(le.a,{exact:!0,path:"/contract/:address",component:We}),c.a.createElement(le.a,{path:"/contract/:address/details/:name",component:De})))};Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function Re(){return(Re=Object(g.a)(x.a.mark((function e(){return x.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(!("serviceWorker"in navigator)){e.next=3;break}return e.next=3,navigator.serviceWorker.ready.then((function(e){e.unregister()})).catch((function(e){console.error(e.message)}));case 3:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var Ue,qe=document.getElementById("root");Ue=Le,i.a.render(c.a.createElement(f,null,c.a.createElement(N,{config:ie},c.a.createElement(F,null,c.a.createElement(oe,null,c.a.createElement(Ue,null))))),qe),function(){Re.apply(this,arguments)}()}},[[264,1,2]]]);
//# sourceMappingURL=main.c38c7ed9.chunk.js.map